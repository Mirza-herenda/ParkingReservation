<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parking Zone</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="spa.js"></script> <!-- Your SPA script -->
    <!-- Adjusted path assuming this file is in a subdirectory -->
    <link rel="stylesheet" type="text/css" href="/Frontend/css files/AdminHomePanel.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>
<body>
    <div class="container-fluid mt-2">
        
        <div class="row">
            <!-- Leva strana - Zone Management -->
            <div class="col-lg-2 col-md-4">
                <div class="card-custom p-3 border rounded">
                    <h5>Capacity</h5>
                    <p>80 / 100</p>
                    <p>Available: 20</p>
                </div>
                <div class="card-custom p-3 border rounded mt-2">
                    <h5>Zone Management</h5>
                  <div id="zoneTable"></div>

                </div>
            </div>
    
            <!-- Sredina - Grafikon -->
            <div class="col-lg-5 col-md-6">
                <div class="card-custom p-3 border rounded">
                    <h5>Concurrent Parked Cars</h5>
                    <canvas id="myChart" style="width:100%; max-width:600px !important;"></canvas>
                </div>
            </div>
    
            <!-- Desna strana - Lista automobila -->
            <div class="col-lg-5 col-md-6">
                <div class="card-custom p-3 border rounded">
                    <h5>List of All Users</h5>
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Driver Name</th>
                                    <th>Email</th>
                                    <th>Numberplate</th>
                                   
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body">
    <!-- Redovi će se učitati dinamički -->
</tbody>
                        </table>
                    </div>
                </div>
            </div>
    
        </div>
    </div>
    

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Check if Chart.js is loaded
            if (typeof Chart === 'undefined') {
                console.error("Chart.js is not loaded!");
                return;
            }

            const labels = ["January", "February", "March", "April", "May", "June", "July"];
            const data = {
                labels: labels,
                datasets: [{
                    label: "Concurrent Parked Cars",
                    data: [65, 59, 80, 81, 56, 55, 40],
                    fill: false,
                    borderColor: "rgb(75, 192, 192)",
                    backgroundColor: "rgb(75, 192, 192)",
                    tension: 0.1
                }]
            };
            const config = {
                type: "line",
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    legend: { display: true },
                    scales: {
                        yAxes: [{
                            ticks: { beginAtZero: true }
                        }]
                    }
                }
            };

            // Initialize chart
            const myChart = new Chart(document.getElementById("myChart"), config);
            console.log("Chart initialized:", myChart);

            // Delete row function
            function deleteRow(button) {
                button.closest('tr').remove();
            }
        });
    </script>
</body>
</html>